/**
 * Copyright (c) 2011 Ryan Grove <ryan@wonko.com>
 * All rights reserved.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the 'Software'), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
var LazyLoad=function(y){var p,b,k={},c=0,m={css:[],js:[]},n=y.styleSheets;function v(e,t){var n,s=y.createElement(e);for(n in t)t.hasOwnProperty(n)&&s.setAttribute(n,t[n]);return s}function j(e){var t,n,s=k[e];s&&(t=s.callback,(n=s.urls).shift(),c=0,n.length||(t&&t.call(s.context,s.obj),k[e]=null,m[e].length&&a(e)))}function a(e,t,n,s,c){function a(){j(e)}var r,o,l,i,u,f,h,g="css"===e,d=[];if(p||(h=navigator.userAgent,((p={async:!0===y.createElement("script").async}).webkit=/AppleWebKit\//.test(h))||(p.ie=/MSIE|Trident/.test(h))||(p.opera=/Opera/.test(h))||(p.gecko=/Gecko\//.test(h))||(p.unknown=!0)),t)if(t="string"==typeof t?[t]:t.concat(),g||p.async||p.gecko||p.opera)m[e].push({urls:t,callback:n,obj:s,context:c});else for(r=0,o=t.length;r<o;++r)m[e].push({urls:[t[r]],callback:r===o-1?n:null,obj:s,context:c});if(!k[e]&&(i=k[e]=m[e].shift())){for(b=b||(y.head||y.getElementsByTagName("head")[0]),r=0,o=(u=i.urls.concat()).length;r<o;++r)f=u[r],g?l=p.gecko?v("style"):v("link",{href:f,rel:"stylesheet"}):(l=v("script",{src:f})).async=!1,l.setAttribute("charset","utf-8"),p.ie&&!g&&"onreadystatechange"in l&&!("draggable"in l)?l.onreadystatechange=function(){/loaded|complete/.test(l.readyState)&&(l.onreadystatechange=null,a())}:g&&(p.gecko||p.webkit)?p.webkit?(i.urls[r]=l.href,T()):(l.innerHTML='@import "'+f+'";',w(l)):l.onload=l.onerror=a,d.push(l);for(r=0,o=d.length;r<o;++r)b.appendChild(d[r])}}function w(t){var n;try{n=!!t.sheet.cssRules}catch(e){return void((c+=1)<200?setTimeout(function(){w(t)},50):n&&j("css"))}j("css")}function T(){var e,t=k.css;if(t){for(e=n.length;0<=--e;)if(n[e].href===t.urls[0]){j("css");break}c+=1,t&&(c<200?setTimeout(T,50):j("css"))}}return{css:function(e,t,n,s){a("css",e,t,n,s)},js:function(e,t,n,s){a("js",e,t,n,s)}}}(this.document);